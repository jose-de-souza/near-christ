<div class="adoration-schedule">
  <h2>Adoration Schedule</h2>

  <div class="form-container">

    <!-- Adoration Section (unchanged) -->
    <div class="section adoration" data-title="Adoration">
      <div>
        <label>Adoration Type</label>
        <select [(ngModel)]="selectedAdoration.AdorationType">
          <option value="Perpetual">Perpetual</option>
          <option value="Regular">Regular</option>
        </select>
      </div>
      <div>
        <label>Day</label>
        <select [(ngModel)]="selectedAdoration.AdorationDay">
          <option value="Sunday">Sunday</option>
          <option value="Monday">Monday</option>
          <option value="Tuesday">Tuesday</option>
          <option value="Wednesday">Wednesday</option>
          <option value="Thursday">Thursday</option>
          <option value="Friday">Friday</option>
          <option value="Saturday">Saturday</option>
        </select>
      </div>
      <div>
        <label>Start Time</label>
        <input type="time" [(ngModel)]="selectedAdoration.AdorationStart" />
      </div>
      <div>
        <label>End Time</label>
        <input type="time" [(ngModel)]="selectedAdoration.AdorationEnd" />
      </div>
    </div>

    <!-- Location Section (unchanged) -->
    <div class="section location" data-title="Location">
      <div>
        <label>Location Type</label>
        <select [(ngModel)]="selectedAdoration.AdorationLocationType">
          <option value="Parish Church">Parish Church</option>
          <option value="Other">Other</option>
        </select>
      </div>
      <div>
        <label>Location</label>
        <input type="text" [(ngModel)]="selectedAdoration.AdorationLocation" />
      </div>
      <div>
        <label>State</label>
        <select [(ngModel)]="selectedAdoration.State">
          <option value="">Select State</option>
          <option *ngFor="let s of states" [value]="s">{{ s }}</option>
        </select>
      </div>
    </div>

    <!-- (NEW) Diocese/Parish by Name -->
    <div class="section diocese-parish-names" data-title="Diocese/Parish">
      <div>
        <label>Diocese Name</label>
        <!-- Binds selectedAdoration.DioceseID based on user's dropdown choice -->
        <select [(ngModel)]="selectedAdoration.DioceseID">
          <option [value]="null">-- select diocese --</option>
          <option *ngFor="let d of dioceseList" [value]="d.DioceseID">
            {{ d.DioceseName }}
          </option>
        </select>
      </div>
      <div>
        <label>Parish Name</label>
        <select [(ngModel)]="selectedAdoration.ParishID">
          <option [value]="null">-- select parish --</option>
          <option *ngFor="let p of parishList" [value]="p.ParishID">
            {{ p.ParishName }}
          </option>
        </select>
      </div>
    </div>

  </div> <!-- end form-container -->

  <div class="buttons">
    <button (click)="addSchedule()">Add</button>
    <button (click)="modifySchedule()">Modify</button>
    <button (click)="deleteSchedule()">Delete</button>
    <button (click)="cancel()">Cancel</button>
  </div>

  <!-- Table: We show diocese and parish objects by name here -->
  <table>
    <thead>
      <tr>
        <th>Diocese Name</th>
        <th>Parish Name</th>
        <th>Type</th>
        <th>Location Type</th>
        <th>Location</th>
        <th>State</th>
        <th>Day</th>
        <th>Start</th>
        <th>End</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let schedule of schedules; trackBy: trackByAdorationID" (click)="selectSchedule(schedule)">
        <!-- schedule.diocese?.DioceseName if the server returns 'diocese' object -->
        <td>{{ schedule.diocese?.DioceseName }}</td>
        <!-- schedule.parish?.ParishName if the server returns 'parish' object -->
        <td>{{ schedule.parish?.ParishName }}</td>

        <td>{{ schedule.AdorationType }}</td>
        <td>{{ schedule.AdorationLocationType }}</td>
        <td>{{ schedule.AdorationLocation }}</td>
        <td>{{ schedule.State }}</td>
        <td>{{ schedule.AdorationDay }}</td>
        <td>{{ schedule.AdorationStart }}</td>
        <td>{{ schedule.AdorationEnd }}</td>
      </tr>
    </tbody>
  </table>
</div>